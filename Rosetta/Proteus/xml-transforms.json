{
    "#type": "scope",
    "scope": "$.current",
    "value": {
        "#type": "switch",
        "value": "$$.http_request.query.profile",
        "cases": {
            "dc": {
                "#type": "switch",
                "value": "$.@datatype.base",
                "cases": {
                    "object": {
                        "#type": "process_dublin_core_object"
                    },
                    "agent": {
                        "#type": "process_dublin_core_agent"
                    },
                    "media": {
                        "#type": "process_dublin_core_media"
                    },
                    "publication": {
                        "#type": "process_dublin_core_publication"
                    },
                    "archive": {
                        "#type": "process_dublin_core_archive"
                    },
                    "exhibition": {
                        "#type": "process_dublin_core_exhibition"
                    },
                    "package": {
                        "#type": "process_dublin_core_package"
                    }
                },
                "default": "Dublin Core format for {$.@datatype.base} not available"
            },
            "lido": {
                "#type": "switch",
                "value": "$.@datatype.base",
                "cases": {
                    "object": {
                        "#type": "process_lido"
                    }
                },
                "default": "LIDO format for {$.@datatype.base} not available"
            },
            "skos": {
                "#type": "switch",
                "value": "$.@datatype.base",
                "cases": {
                    "object": "Skos xml for objects not yet available",
                    "media": "Skos xml for media not yet available",
                    "publication": "Skos xml for publications not yet available",
                    "archive": "Skos xml for archives not yet available",
                    "exhibition": "Skos xml for exhibition not yet available",
                    "package": "Skos xml for packages not yet available",
                    "concept": {
                        "#type": "process_skos_xml"
                    }
                },
                "default": "Invalid format for datatype"
            },
            "xml": {
                "#type": "switch",
                "value": "$.@datatype.base",
                "cases": {
                    "object": {
                        "#type": "process_lido"
                    },
                    "media": {
                        "#type": "process_dublin_core_media"
                    },
                    "publication": {
                        "#type": "process_dublin_core_publication"
                    },
                    "archive": {
                        "#type": "process_dublin_core_archive"
                    },
                    "exhibition": {
                        "#type": "process_dublin_core_exhibition"
                    },
                    "package": {
                        "#type": "process_dublin_core_package"
                    },
                    "concept": {
                        "#type": "process_skos_xml"
                    }
                },
                "default": "XML format for {$.@datatype.base} not available"
            }
        },
        "default": {
            "#type": "switch",
            "value": "$.@datatype.base",
            "cases": {
                "object": {
                    "#type": "process_lido"
                },
                "media": {
                    "#type": "process_dublin_core_media"
                },
                "publication": {
                    "#type": "process_dublin_core_publication"
                },
                "archive": {
                    "#type": "process_dublin_core_archive"
                },
                "exhibition": {
                    "#type": "process_dublin_core_exhibition"
                },
                "package": {
                    "#type": "process_dublin_core_package"
                },
                "concept": {
                    "#type": "process_skos_xml"
                }
            },
            "default": "No default format for {$.@datatype.base}"
        }
    }
}